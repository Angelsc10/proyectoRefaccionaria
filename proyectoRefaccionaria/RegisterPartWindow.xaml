<winuiEx:WindowEx
    x:Class="proyectoRefaccionaria.RegisterPartWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:winuiEx="using:WinUIEx"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls" 
    xmlns:system="using:System"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:local="using:proyectoRefaccionaria"
    Title="Refaccionaria El Gallito - Panel de Admin"
    Width="1100" Height="700">

    <Grid Background="{StaticResource BackgroundColorSuperDark}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="{StaticResource BackgroundColorDark}" Padding="15,10">
            <StackPanel Orientation="Horizontal" Spacing="15">
                <Ellipse Width="40" Height="40">
                    <Ellipse.Fill>
                        <ImageBrush ImageSource="Assets/logo_completo.png" Stretch="UniformToFill"/>
                    </Ellipse.Fill>
                </Ellipse>
                <TextBlock Text="Refaccionaria El Gallito - Panel de Administrador" 
                           FontSize="20" FontWeight="Bold" VerticalAlignment="Center"
                           Foreground="{StaticResource PrimaryColor}"/>
            </StackPanel>
        </Border>

        <Grid Grid.Row="1" Padding="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="{StaticResource BackgroundColorDark}" Padding="15" CornerRadius="8" VerticalAlignment="Top" MinWidth="250">
                <StackPanel Spacing="15">
                    <TextBlock Text="Panel de Opciones" FontSize="18" FontWeight="Bold" Foreground="{StaticResource TextColorOnAccent}" Margin="0,0,0,5"/>

                    <Button x:Name="VerRefaccionesButton" Click="VerRefacciones_Click" HorizontalAlignment="Stretch" Style="{StaticResource DefaultButtonStyle}" Background="{StaticResource BackgroundColorSuperDark}" Foreground="{StaticResource TextColorOnAccent}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <SymbolIcon Symbol="ViewAll"/>
                            <TextBlock Text="Ver refacciones"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="VerReportesButton" Click="VerReportes_Click" HorizontalAlignment="Stretch" Style="{StaticResource DefaultButtonStyle}" Background="{StaticResource BackgroundColorSuperDark}" Foreground="{StaticResource TextColorOnAccent}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE9F9;"/>
                            <TextBlock Text="Reporte de Ventas"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="GestionarUsuariosButton" Click="GestionarUsuarios_Click" HorizontalAlignment="Stretch" Style="{StaticResource DefaultButtonStyle}" Background="{StaticResource BackgroundColorSuperDark}" Foreground="{StaticResource TextColorOnAccent}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <SymbolIcon Symbol="People"/>
                            <TextBlock Text="Gestionar Usuarios"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="GestionarClientesButton" Click="GestionarClientes_Click" HorizontalAlignment="Stretch" Style="{StaticResource DefaultButtonStyle}" Background="{StaticResource BackgroundColorSuperDark}" Foreground="{StaticResource TextColorOnAccent}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE716;"/>
                            <TextBlock Text="Gestionar Clientes"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Border>

            <Grid Grid.Column="1" Margin="20,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Background="{StaticResource BackgroundColorDark}" Padding="20" CornerRadius="8" VerticalAlignment="Top">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Grid.ColumnSpan="5" Orientation="Horizontal" Spacing="10" Margin="0,0,0,15">
                            <FontIcon Glyph="&#xE71F;" Foreground="{StaticResource PrimaryColor}" FontSize="20"/>
                            <TextBlock Text="Registrar nueva refacción" FontSize="18" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Spacing="5">
                            <TextBlock Text="Nombre:" Foreground="#BDBDBD"/>
                            <TextBox x:Name="NombreTextBox" PlaceholderText="Ej. Balata" Foreground="{StaticResource TextControlForeground}" BorderBrush="{StaticResource PrimaryColor}" Background="{StaticResource BackgroundColorLight}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Spacing="5" Margin="0,10,0,0">
                            <TextBlock Text="Categoría:" Foreground="#BDBDBD"/>
                            <ComboBox x:Name="CategoriaComboBox" HorizontalAlignment="Stretch" PlaceholderText="Selecciona..." Foreground="{StaticResource TextColorOnAccent}" Background="{StaticResource BackgroundColorDark}" BorderBrush="{StaticResource BackgroundColorDark}">
                                <x:String>Frenos</x:String>
                                <x:String>Motor</x:String>
                                <x:String>Suspensión</x:String>
                                <x:String>Eléctrico</x:String>
                                <x:String>General</x:String>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="3" Grid.ColumnSpan="2" Spacing="5">
                            <TextBlock Text="Precio:" Foreground="#BDBDBD"/>
                            <TextBox x:Name="PrecioTextBox" PlaceholderText="0.00" Foreground="{StaticResource TextControlForeground}" BorderBrush="{StaticResource PrimaryColor}" Background="{StaticResource BackgroundColorLight}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="3" Grid.ColumnSpan="2" Spacing="5" Margin="0,10,0,0">
                            <TextBlock Text="Stock Inicial:" Foreground="#BDBDBD"/>
                            <muxc:NumberBox x:Name="StockTextBox" Value="0" Minimum="0" SpinButtonPlacementMode="Compact" Foreground="{StaticResource TextControlForeground}" BorderBrush="{StaticResource PrimaryColor}" Background="{StaticResource BackgroundColorLight}"/>
                        </StackPanel>

                        <Button x:Name="GuardarButton" 
                                        Grid.Row="3" Grid.ColumnSpan="5" 
                                        Click="Guardar_Click" 
                                        Style="{StaticResource AccentButtonStyle}" 
                                        HorizontalAlignment="Stretch" 
                                        Margin="0,20,0,0"
                                        Background="{StaticResource SuccessColor}" 
                                        BorderBrush="{StaticResource SuccessColor}">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <SymbolIcon Symbol="Save" Foreground="{StaticResource TextColorOnAccent}"/>
                                <TextBlock Text="Guardar refacción" Foreground="{StaticResource TextColorOnAccent}"/>
                            </StackPanel>
                        </Button>
                    </Grid>
                </Border>

                <TextBlock Grid.Row="1" Text="Inventario Reciente" FontSize="18" FontWeight="Bold" Foreground="{StaticResource TextColorOnAccent}" Margin="0,20,0,10"/>

                <controls:DataGrid x:Name="MiniInventarioGrid" 
                                   Grid.Row="2"
                                   AutoGenerateColumns="False"
                                   IsReadOnly="True"
                                   Background="{StaticResource BackgroundColorDark}"
                                   Foreground="{StaticResource TextColorOnAccent}">
                    <controls:DataGrid.Columns>
                        <controls:DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                        <controls:DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="*"/>
                        <controls:DataGridTextColumn Header="Categoría" Binding="{Binding Categoria}" Width="150"/>
                        <controls:DataGridTextColumn Header="Precio" Binding="{Binding Precio}" Width="100"/>
                        <controls:DataGridTextColumn Header="Stock" Binding="{Binding Stock}" Width="100"/>
                    </controls:DataGrid.Columns>
                </controls:DataGrid>
            </Grid>
        </Grid>

        <Button x:Name="LogoutButton" Grid.Row="2" Click="Logout_Click" Width="250" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="20" Style="{StaticResource DefaultButtonStyle}" Background="{StaticResource BackgroundColorSuperDark}" Foreground="{StaticResource TextColorOnAccent}">
            <StackPanel Orientation="Horizontal" Spacing="8">
                <SymbolIcon Symbol="Back"/>
                <TextBlock Text="Cerrar sesión"/>
            </StackPanel>
        </Button>
    </Grid>
</winuiEx:WindowEx>