<winuiEx:WindowEx
    x:Class="proyectoRefaccionaria.SparePartsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:winuiEx="using:WinUIEx"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls" 
    Title="Refaccionaria - Catálogo"
    Width="900" Height="600">

    <Grid Padding="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" Spacing="10" Margin="0,0,10,0">

            <TextBlock Text="Catálogo de Refacciones" 
                       FontSize="22" FontWeight="Bold" />

            <StackPanel Orientation="Horizontal" Spacing="10" 
                        Background="{ThemeResource SystemControlBackgroundBaseLowBrush}"
                        Padding="10" CornerRadius="8">
                <TextBlock Text="Filtrar por categoría:" VerticalAlignment="Center"/>
                <ComboBox x:Name="CategoriaFilterComboBox"
                          Width="250"
                          SelectionChanged="CategoriaFilter_SelectionChanged">
                </ComboBox>
            </StackPanel>
            <ListView x:Name="PartsListView"
                      Height="340" SelectionMode="Single"
                      DisplayMemberPath="Nombre"/>

            <StackPanel Orientation="Horizontal" Spacing="10">
                <muxc:NumberBox x:Name="QuantityNumberBox"
                                Value="1" Minimum="1"
                                SpinButtonPlacementMode="Compact"
                                SmallChange="1" LargeChange="5"
                                Header="Cantidad"
                                Width="100"/>
                <Button x:Name="AddToCartButton"
                        Click="AddToCart_Click" 
                        Width="180"
                        VerticalAlignment="Bottom"
                        Style="{StaticResource AccentButtonStyle}">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Add"/>
                        <TextBlock Text="Agregar al carrito"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </StackPanel>

        <Border Grid.Column="1" 
                Background="{ThemeResource SystemControlBackgroundBaseLowBrush}"
                Padding="15"
                CornerRadius="8"
                Margin="10,0,0,0">

            <StackPanel Spacing="10">
                <TextBlock Text="Carrito de compra" 
                           FontSize="22" FontWeight="Bold" />
                <ListView x:Name="CartListView"
                          Height="300"
                          SelectionMode="Single"
                          DisplayMemberPath="DisplayName"/>
                <Button x:Name="RemoveFromCartButton" 
                        Click="RemoveFromCart_Click" 
                        HorizontalAlignment="Stretch">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Remove"/>
                        <TextBlock Text="Quitar del carrito"/>
                    </StackPanel>
                </Button>
                <Button x:Name="ConfirmPurchaseButton" 
                        Click="ConfirmPurchase_Click" 
                        HorizontalAlignment="Stretch"
                        Style="{StaticResource AccentButtonStyle}"
                        Margin="0,10,0,0">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Shop"/>
                        <TextBlock Text="Confirmar compra"/>
                    </StackPanel>
                </Button>
                <Button x:Name="LogoutButton"
                        Click="Logout_Click"
                        HorizontalAlignment="Stretch"
                        Margin="0,20,0,0">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Back"/>
                        <TextBlock Text="Cerrar sesión / Volver"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</winuiEx:WindowEx>